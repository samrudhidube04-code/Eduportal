{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ExploreCoursesComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"app-enroll-course\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const course_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"course\", course_r1);\n  }\n}\nexport class ExploreCoursesComponent {\n  constructor(fb, router) {\n    this.fb = fb;\n    this.router = router;\n    this.courses = [];\n    this.selectedCourse = null;\n    this.showModal = false;\n  }\n  ngOnInit() {\n    const storedCourses = localStorage.getItem('courses');\n    this.courses = storedCourses ? JSON.parse(storedCourses) : [];\n    this.enrollForm = this.fb.group({\n      name: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      courseName: [''],\n      price: ['']\n    });\n  }\n  openEnroll(course) {\n    this.selectedCourse = course;\n    this.enrollForm.patchValue({\n      courseName: course.name,\n      price: course.price\n    });\n    this.showModal = true;\n  }\n  closeModal() {\n    this.showModal = false;\n  }\n  confirmEnrollment() {\n    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\n    const role = localStorage.getItem('role');\n    if (!isLoggedIn || role !== 'user') {\n      alert('Please log in as a user to enroll.');\n      this.router.navigate(['/login']);\n      return;\n    }\n    const user = JSON.parse(localStorage.getItem('loggedInUser') || '{}');\n    const userEmail = user.email;\n    const enrolledData = JSON.parse(localStorage.getItem('enrolledUsers') || '{}');\n    if (!enrolledData[userEmail]) {\n      enrolledData[userEmail] = [];\n    }\n    // Prevent duplicate enrollment\n    if (enrolledData[userEmail].some(c => c.name === this.selectedCourse.name)) {\n      alert('You have already enrolled in this course.');\n      this.closeModal();\n      return;\n    }\n    enrolledData[userEmail].push(this.selectedCourse);\n    localStorage.setItem('enrolledUsers', JSON.stringify(enrolledData));\n    alert('Successfully enrolled!');\n    this.closeModal();\n  }\n  static {\n    this.ɵfac = function ExploreCoursesComponent_Factory(t) {\n      return new (t || ExploreCoursesComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ExploreCoursesComponent,\n      selectors: [[\"app-explore-courses\"]],\n      decls: 5,\n      vars: 1,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"text-center\", \"mb-4\"], [1, \"row\"], [\"class\", \"col-md-4 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\", \"mb-3\"], [3, \"course\"]],\n      template: function ExploreCoursesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Explore Courses\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2);\n          i0.ɵɵtemplate(4, ExploreCoursesComponent_div_4_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.courses);\n        }\n      },\n      dependencies: [i3.NgForOf],\n      styles: [\"body[_ngcontent-%COMP%] {\\n    font-family: 'Segoe UI', sans-serif;\\n}\\n\\n.courses-header[_ngcontent-%COMP%] {\\n    background: linear-gradient(to right, #1f4037, #99f2c8);\\n    color: white;\\n    padding: 60px 30px;\\n    text-align: center;\\n}\\n\\n.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    height: 180px;\\n    object-fit: cover;\\n}\\n\\n.course-card[_ngcontent-%COMP%] {\\n    transition: all 0.3s ease;\\n}\\n\\n.course-card[_ngcontent-%COMP%]:hover {\\n    transform: translateY(-5px);\\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9leHBsb3JlLWNvdXJzZXMvZXhwbG9yZS1jb3Vyc2VzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxtQ0FBbUM7QUFDdkM7O0FBRUE7SUFDSSx1REFBdUQ7SUFDdkQsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLHlDQUF5QztBQUM3QyIsInNvdXJjZXNDb250ZW50IjpbImJvZHkge1xyXG4gICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5jb3Vyc2VzLWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICMxZjQwMzcsICM5OWYyYzgpO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogNjBweCAzMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uY2FyZCBpbWcge1xyXG4gICAgaGVpZ2h0OiAxODBweDtcclxuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG59XHJcblxyXG4uY291cnNlLWNhcmQge1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxufVxyXG5cclxuLmNvdXJzZS1jYXJkOmhvdmVyIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNXB4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","course_r1","ExploreCoursesComponent","constructor","fb","router","courses","selectedCourse","showModal","ngOnInit","storedCourses","localStorage","getItem","JSON","parse","enrollForm","group","name","required","email","courseName","price","openEnroll","course","patchValue","closeModal","confirmEnrollment","isLoggedIn","role","alert","navigate","user","userEmail","enrolledData","some","c","push","setItem","stringify","ɵɵdirectiveInject","i1","FormBuilder","i2","Router","selectors","decls","vars","consts","template","ExploreCoursesComponent_Template","rf","ctx","ɵɵtext","ɵɵtemplate","ExploreCoursesComponent_div_4_Template"],"sources":["C:\\Users\\rocks\\OneDrive\\Desktop\\Angular\\AngularForm\\src\\app\\Components\\explore-courses\\explore-courses.component.ts","C:\\Users\\rocks\\OneDrive\\Desktop\\Angular\\AngularForm\\src\\app\\Components\\explore-courses\\explore-courses.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-explore-courses',\n  templateUrl: './explore-courses.component.html',\n  styleUrls: ['./explore-courses.component.css']\n})\nexport class ExploreCoursesComponent {\n  courses: any[] = [];\n  enrollForm!: FormGroup;\n  selectedCourse: any = null;\n  showModal = false;\n\n  constructor(private fb: FormBuilder, private router: Router) { }\n\n  ngOnInit() {\n    const storedCourses = localStorage.getItem('courses');\n    this.courses = storedCourses ? JSON.parse(storedCourses) : [];\n\n    this.enrollForm = this.fb.group({\n      name: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      courseName: [''],\n      price: ['']\n    });\n  }\n\n  openEnroll(course: any) {\n    this.selectedCourse = course;\n    this.enrollForm.patchValue({\n      courseName: course.name,\n      price: course.price\n    });\n    this.showModal = true;\n  }\n\n  closeModal() {\n    this.showModal = false;\n  }\n\n  confirmEnrollment() {\n    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\n    const role = localStorage.getItem('role');\n\n    if (!isLoggedIn || role !== 'user') {\n      alert('Please log in as a user to enroll.');\n      this.router.navigate(['/login']);\n      return;\n    }\n\n    const user = JSON.parse(localStorage.getItem('loggedInUser') || '{}');\n    const userEmail = user.email;\n    const enrolledData = JSON.parse(localStorage.getItem('enrolledUsers') || '{}');\n\n    if (!enrolledData[userEmail]) {\n      enrolledData[userEmail] = [];\n    }\n\n    // Prevent duplicate enrollment\n    if (enrolledData[userEmail].some((c: any) => c.name === this.selectedCourse.name)) {\n      alert('You have already enrolled in this course.');\n      this.closeModal();\n      return;\n    }\n\n    enrolledData[userEmail].push(this.selectedCourse);\n    localStorage.setItem('enrolledUsers', JSON.stringify(enrolledData));\n\n    alert('Successfully enrolled!');\n    this.closeModal();\n  }\n}\n","<div class=\"container mt-4\">\n    <h2 class=\"text-center mb-4\">Explore Courses</h2>\n    <div class=\"row\">\n        <div class=\"col-md-4 mb-3\" *ngFor=\"let course of courses\">\n            <app-enroll-course [course]=\"course\"></app-enroll-course>\n        </div>\n    </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}