{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let HomeComponent = class HomeComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.courses = [];\n    this.selectedCourse = null;\n    this.showForm = false;\n    this.enrollData = {\n      name: '',\n      email: ''\n    };\n    this.loading = true;\n  }\n  ngOnInit() {\n    // Load from localStorage if exists\n    const savedCourses = localStorage.getItem('courses');\n    if (savedCourses) {\n      this.courses = JSON.parse(savedCourses);\n    }\n  }\n  // ngOnInit(): void {\n  //   const storedCourses = localStorage.getItem('courses');\n  //   if (storedCourses) {\n  //     this.courses = JSON.parse(storedCourses);\n  //   }\n  //   this.http.get<any[]>('http://localhost:3001/Courses').subscribe(data => {\n  //     this.courses = data;\n  //     this.loading = false;\n  //   });\n  // }\n  handleEnrollClick(course) {\n    const user = localStorage.getItem('loggedInUser');\n    if (!user) {\n      alert('⚠️ Please login first to enroll.');\n      this.router.navigate(['/login']); // Replace with your actual login route\n      return;\n    }\n    const userData = JSON.parse(user);\n    this.enrollData.name = userData.name;\n    this.enrollData.email = userData.email;\n    this.selectedCourse = course;\n    this.showForm = true;\n  }\n  submitForm() {\n    const enrollment = {\n      name: this.selectedCourse.name,\n      description: this.selectedCourse.description,\n      price: this.selectedCourse.price,\n      userName: this.enrollData.name,\n      userEmail: this.enrollData.email,\n      status: 'Active',\n      progress: 0\n    };\n    const enrolled = JSON.parse(localStorage.getItem('enrolledCourses') || '[]');\n    enrolled.push(enrollment);\n    localStorage.setItem('enrolledCourses', JSON.stringify(enrolled));\n    alert(`✅ Enrolled in ${this.selectedCourse.name}`);\n    this.showForm = false;\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);","map":{"version":3,"names":["Component","HomeComponent","constructor","http","router","courses","selectedCourse","showForm","enrollData","name","email","loading","ngOnInit","savedCourses","localStorage","getItem","JSON","parse","handleEnrollClick","course","user","alert","navigate","userData","submitForm","enrollment","description","price","userName","userEmail","status","progress","enrolled","push","setItem","stringify","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\rocks\\OneDrive\\Desktop\\Angular\\AngularForm\\src\\app\\Components\\home\\home.component.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n\n  courses: any[] = [];\n  selectedCourse: any = null;\n  showForm = false;\n  enrollData = { name: '', email: '' };\n  loading = true;\n\n  constructor(private http: HttpClient, private router: Router) { }\n\n  ngOnInit() {\n    // Load from localStorage if exists\n    const savedCourses = localStorage.getItem('courses');\n    if (savedCourses) {\n      this.courses = JSON.parse(savedCourses);\n    }\n  }\n\n\n  // ngOnInit(): void {\n  //   const storedCourses = localStorage.getItem('courses');\n  //   if (storedCourses) {\n  //     this.courses = JSON.parse(storedCourses);\n  //   }\n\n  //   this.http.get<any[]>('http://localhost:3001/Courses').subscribe(data => {\n  //     this.courses = data;\n  //     this.loading = false;\n  //   });\n  // }\n\n  handleEnrollClick(course: any) {\n    const user = localStorage.getItem('loggedInUser');\n\n    if (!user) {\n      alert('⚠️ Please login first to enroll.');\n      this.router.navigate(['/login']); // Replace with your actual login route\n      return;\n    }\n\n    const userData = JSON.parse(user);\n    this.enrollData.name = userData.name;\n    this.enrollData.email = userData.email;\n    this.selectedCourse = course;\n    this.showForm = true;\n  }\n\n  submitForm() {\n    const enrollment = {\n      name: this.selectedCourse.name,\n      description: this.selectedCourse.description,\n      price: this.selectedCourse.price,\n      userName: this.enrollData.name,\n      userEmail: this.enrollData.email,\n      status: 'Active',\n      progress: 0\n    };\n\n    const enrolled = JSON.parse(localStorage.getItem('enrolledCourses') || '[]');\n    enrolled.push(enrollment);\n    localStorage.setItem('enrolledCourses', JSON.stringify(enrolled));\n\n    alert(`✅ Enrolled in ${this.selectedCourse.name}`);\n    this.showForm = false;\n  }\n}"],"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AAQlC,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAQxBC,YAAoBC,IAAgB,EAAUC,MAAc;IAAxC,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,MAAM,GAANA,MAAM;IANpD,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,cAAc,GAAQ,IAAI;IAC1B,KAAAC,QAAQ,GAAG,KAAK;IAChB,KAAAC,UAAU,GAAG;MAAEC,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAE,CAAE;IACpC,KAAAC,OAAO,GAAG,IAAI;EAEkD;EAEhEC,QAAQA,CAAA;IACN;IACA,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IACpD,IAAIF,YAAY,EAAE;MAChB,IAAI,CAACR,OAAO,GAAGW,IAAI,CAACC,KAAK,CAACJ,YAAY,CAAC;;EAE3C;EAGA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEAK,iBAAiBA,CAACC,MAAW;IAC3B,MAAMC,IAAI,GAAGN,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAEjD,IAAI,CAACK,IAAI,EAAE;MACTC,KAAK,CAAC,kCAAkC,CAAC;MACzC,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;MAClC;;IAGF,MAAMC,QAAQ,GAAGP,IAAI,CAACC,KAAK,CAACG,IAAI,CAAC;IACjC,IAAI,CAACZ,UAAU,CAACC,IAAI,GAAGc,QAAQ,CAACd,IAAI;IACpC,IAAI,CAACD,UAAU,CAACE,KAAK,GAAGa,QAAQ,CAACb,KAAK;IACtC,IAAI,CAACJ,cAAc,GAAGa,MAAM;IAC5B,IAAI,CAACZ,QAAQ,GAAG,IAAI;EACtB;EAEAiB,UAAUA,CAAA;IACR,MAAMC,UAAU,GAAG;MACjBhB,IAAI,EAAE,IAAI,CAACH,cAAc,CAACG,IAAI;MAC9BiB,WAAW,EAAE,IAAI,CAACpB,cAAc,CAACoB,WAAW;MAC5CC,KAAK,EAAE,IAAI,CAACrB,cAAc,CAACqB,KAAK;MAChCC,QAAQ,EAAE,IAAI,CAACpB,UAAU,CAACC,IAAI;MAC9BoB,SAAS,EAAE,IAAI,CAACrB,UAAU,CAACE,KAAK;MAChCoB,MAAM,EAAE,QAAQ;MAChBC,QAAQ,EAAE;KACX;IAED,MAAMC,QAAQ,GAAGhB,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,IAAI,IAAI,CAAC;IAC5EiB,QAAQ,CAACC,IAAI,CAACR,UAAU,CAAC;IACzBX,YAAY,CAACoB,OAAO,CAAC,iBAAiB,EAAElB,IAAI,CAACmB,SAAS,CAACH,QAAQ,CAAC,CAAC;IAEjEX,KAAK,CAAC,iBAAiB,IAAI,CAACf,cAAc,CAACG,IAAI,EAAE,CAAC;IAClD,IAAI,CAACF,QAAQ,GAAG,KAAK;EACvB;CACD;AAjEYN,aAAa,GAAAmC,UAAA,EALzBpC,SAAS,CAAC;EACTqC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWtC,aAAa,CAiEzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}