{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ExploreCoursesComponent = class ExploreCoursesComponent {\n  constructor(router) {\n    this.router = router;\n    this.courses = [];\n    this.selectedCourse = null;\n    this.showModal = false;\n  }\n  ngOnInit() {\n    const storedCourses = localStorage.getItem('courses');\n    this.courses = storedCourses ? JSON.parse(storedCourses) : [];\n  }\n  enroll(course) {\n    const user = localStorage.getItem('loggedInUser');\n    if (!user) {\n      alert(\"❗Please login to enroll.\");\n      this.router.navigate(['/login']);\n      return;\n    }\n    this.selectedCourse = course;\n    this.showModal = true;\n  }\n  confirmEnrollment() {\n    const user = JSON.parse(localStorage.getItem('loggedInUser'));\n    const key = `enrolled_${user.username}`;\n    const enrolled = JSON.parse(localStorage.getItem(key) || '[]');\n    // Prevent duplicate\n    if (Array.isArray(enrolled) && enrolled.some(course => course?.name === this.selectedCourse?.name)) {\n      alert('⚠️ Already enrolled in this course!');\n    } else {\n      enrolled.push(this.selectedCourse);\n      localStorage.setItem(key, JSON.stringify(enrolled));\n      alert(`✅ Enrolled in \"${this.selectedCourse.name}\"!`);\n    }\n    this.closeModal();\n  }\n  closeModal() {\n    this.showModal = false;\n    this.selectedCourse = null;\n  }\n};\nExploreCoursesComponent = __decorate([Component({\n  selector: 'app-explore-courses',\n  templateUrl: './explore-courses.component.html',\n  styleUrls: ['./explore-courses.component.css']\n})], ExploreCoursesComponent);","map":{"version":3,"names":["Component","ExploreCoursesComponent","constructor","router","courses","selectedCourse","showModal","ngOnInit","storedCourses","localStorage","getItem","JSON","parse","enroll","course","user","alert","navigate","confirmEnrollment","key","username","enrolled","Array","isArray","some","name","push","setItem","stringify","closeModal","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\rocks\\OneDrive\\Desktop\\Angular\\AngularForm\\src\\app\\Components\\explore-courses\\explore-courses.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-explore-courses',\n  templateUrl: './explore-courses.component.html',\n  styleUrls: ['./explore-courses.component.css']\n})\nexport class ExploreCoursesComponent implements OnInit {\n\n  courses: any[] = [];\n  selectedCourse: any = null;\n  showModal = false;\n\n  constructor(private router: Router) { }\n\n  ngOnInit() {\n    const storedCourses = localStorage.getItem('courses');\n    this.courses = storedCourses ? JSON.parse(storedCourses) : [];\n\n\n  }\n\n  enroll(course: any) {\n    const user = localStorage.getItem('loggedInUser');\n    if (!user) {\n      alert(\"❗Please login to enroll.\");\n      this.router.navigate(['/login']);\n      return;\n    }\n\n    this.selectedCourse = course;\n    this.showModal = true;\n  }\n\n  confirmEnrollment() {\n    const user = JSON.parse(localStorage.getItem('loggedInUser')!);\n    const key = `enrolled_${user.username}`;\n    const enrolled = JSON.parse(localStorage.getItem(key) || '[]');\n\n    // Prevent duplicate\n    if (Array.isArray(enrolled) && enrolled.some(course => course?.name === this.selectedCourse?.name)) {\n      alert('⚠️ Already enrolled in this course!');\n    } else {\n      enrolled.push(this.selectedCourse);\n      localStorage.setItem(key, JSON.stringify(enrolled));\n      alert(`✅ Enrolled in \"${this.selectedCourse.name}\"!`);\n    }\n\n\n    this.closeModal();\n  }\n\n  closeModal() {\n    this.showModal = false;\n    this.selectedCourse = null;\n  }\n}\n\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAQ1C,WAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAMlCC,YAAoBC,MAAc;IAAd,KAAAA,MAAM,GAANA,MAAM;IAJ1B,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,cAAc,GAAQ,IAAI;IAC1B,KAAAC,SAAS,GAAG,KAAK;EAEqB;EAEtCC,QAAQA,CAAA;IACN,MAAMC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IACrD,IAAI,CAACN,OAAO,GAAGI,aAAa,GAAGG,IAAI,CAACC,KAAK,CAACJ,aAAa,CAAC,GAAG,EAAE;EAG/D;EAEAK,MAAMA,CAACC,MAAW;IAChB,MAAMC,IAAI,GAAGN,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IACjD,IAAI,CAACK,IAAI,EAAE;MACTC,KAAK,CAAC,0BAA0B,CAAC;MACjC,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAChC;;IAGF,IAAI,CAACZ,cAAc,GAAGS,MAAM;IAC5B,IAAI,CAACR,SAAS,GAAG,IAAI;EACvB;EAEAY,iBAAiBA,CAAA;IACf,MAAMH,IAAI,GAAGJ,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,cAAc,CAAE,CAAC;IAC9D,MAAMS,GAAG,GAAG,YAAYJ,IAAI,CAACK,QAAQ,EAAE;IACvC,MAAMC,QAAQ,GAAGV,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAACS,GAAG,CAAC,IAAI,IAAI,CAAC;IAE9D;IACA,IAAIG,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,IAAIA,QAAQ,CAACG,IAAI,CAACV,MAAM,IAAIA,MAAM,EAAEW,IAAI,KAAK,IAAI,CAACpB,cAAc,EAAEoB,IAAI,CAAC,EAAE;MAClGT,KAAK,CAAC,qCAAqC,CAAC;KAC7C,MAAM;MACLK,QAAQ,CAACK,IAAI,CAAC,IAAI,CAACrB,cAAc,CAAC;MAClCI,YAAY,CAACkB,OAAO,CAACR,GAAG,EAAER,IAAI,CAACiB,SAAS,CAACP,QAAQ,CAAC,CAAC;MACnDL,KAAK,CAAC,kBAAkB,IAAI,CAACX,cAAc,CAACoB,IAAI,IAAI,CAAC;;IAIvD,IAAI,CAACI,UAAU,EAAE;EACnB;EAEAA,UAAUA,CAAA;IACR,IAAI,CAACvB,SAAS,GAAG,KAAK;IACtB,IAAI,CAACD,cAAc,GAAG,IAAI;EAC5B;CACD;AAjDYJ,uBAAuB,GAAA6B,UAAA,EALnC9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,C,EACWhC,uBAAuB,CAiDnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}